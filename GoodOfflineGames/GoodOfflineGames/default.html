<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>GOG.com collection</title>
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="./_resources/styles.css" />
</head>
<!-- switch default theme on the body: dark, light -->

<body class="dark">

    <div id="errorMessage" class="hidden">
        I'm sorry, Dave.
        <br />I'm afraid I can't do that.
        <br /> <span class="note">Note: Please run GoodOfflineGames.exe at least once.</span>
    </div>

    <div id="searchContainer" accesskey="4">
        <input id="searchInput" type="search" placeholder="Type to search..." tabindex="0" accesskey="4" />
        <a id="showAllSearchResults" class="hidden" href="#showAll">+<span class="resultsCount"></span>...</a>
    </div>

    <div id="productsContainer" class="container hidden"></div>
    <div id="searchResults" class="container hidden"></div>

    <div id="gameDetailsContainer" class="container hidden"></div>

    <div id="menuContainer" class="container hidden">
        <button id="backToTop" title="Back to top" accesskey="t">
            <i class="icon fa-chevron-up"></i>
            <span>Back to top</span>
        </button>
        <button id="toggleInfo" title="Information" accesskey="i">
            <i class="icon fa-info-circle"></i>
            <span>Information</span>
        </button>
        <div id="infoContainer" class="hidden"></div>
        <button id="switchTheme" title="Switch theme" accesskey="s">
            <i class="icon fa-paint-brush"></i>
            <span>Switch theme</span>
        </button>
    </div>

    <button id="toggleMenu" title="Menu" accesskey="m">
        <i class="icon fa-bars"></i>
    </button>

    <div id="loadingScreen">
        <i class="icon fa-spinner"></i> Loading, please wait...
    </div>

    <div id="templates">
        <template id="product">
            <div class='product {{productClass}}' title='{{title}}'>
                <a href='#{{id}}'>
                    <!--<img data-src='{{productImage}}' onerror='Images.hideOnError(this)' />-->
                    <span class='title'>{{title}}</span>
                </a>
            </div>
        </template>
        <template id="gameDetailsImage">
            <img class='image {{productImageClass}}' srcset='{{productRetinaImage}} 2x, {{productImage}} 1x' src='{{productImage}}' onerror='Images.hideOnError(this)'></img>
        </template>
        <template id="gameDetailsProductHeader">
            <h1 class='productTitle {{productClass}}'>{{productTitle}}</h1>
        </template>
        <template id="gameDetailsDescription">
            <table border='0' cellspacing='0' cellpadding='0' class='descriptionContainer'>
                <tr class='{{developerClass}}'>
                    <td class='header'>Developer</td>
                    <td class='title'>{{developerTitle}}</td>
                </tr>
                <tr class='{{publisherClass}}'>
                    <td class='header'>Publisher</td>
                    <td class='title'>{{publisherTitle}}</td>
                </tr>
                <tr class='{{genresClass}}'>
                    <td class='header'>Genres</td>
                    <td class='title'>{{genresTitle}}</td>
                </tr>
                <tr class='{{seriesClass}}'>
                    <td class='header'>Series</td>
                    <td class='title'>{{seriesTitle}}</td>
                </tr>
                <tr class='{{cdKeyClass}}'>
                    <td class='header'>CD Key</td>
                    <td class='title cdKey' title='Select to reveal'>{{cdKeyTitle}}</td>
                </tr>
                <tr class='{{requiredProductsClass}}'>
                    <td class='header'>Required products</td>
                    <td class='title'>{{requiredProductsTitle}}</td>
                </tr>
                <tr class='{{worksOnClass}}'>
                    <td class='header'>Works on</td>
                    <td class='title worksOn'>{{worksOnTitle}}</td>
                </tr>
                <tr class='{{wikiClass}}'>
                    <td class='header'>Wikipedia</td>
                    <td class='title'><a href={{wikiLink}} accesskey='w'>Article</a></td>
                </tr>
                <tr class='{{tagsClass}}'>
                    <td class='header'>Tags <i class='icon fa-tags'></i></td>
                    <td class='title'>{{tagsContent}}</td>
                </tr>
            </table>
        </template>
        <template id="validation">
            <i class='icon fa-check-circle validated {{validatedClass}}' title='Validated file'></i>
        </template>
        <template id="searchLink">
            <a href='?{{link}}'>{{title}}</a>
        </template>
        <template id="tag">
            <span class='tag'>{{name}}</span>
        </template>
        <template id="gameDetailsFileContainer">
            <div class='filesContainer {{filesClass}}'>
                <h2>Installers, patches</h2>
                <div>{{installersContent}}</div>
                <div class='{{extrasClass}}'>
                    <h2>Extras</h2>
                    <div>{{extrasContent}}</div>
                </div>
            </div>
        </template>
        <template id="gameDetailsScreenshotsContainer">
            <div class='screenshotsContainer'>
                <button accesskey='s' class='{{showScreenshotsClass}} showHideButton' onclick='Screenshots.show(this);'>
                    <i class='icon fa-file-picture-o'></i>
                    <span>Show/hide {{screenshotsCount}} screenshots</span>
                </button>
                <div class='screenshots hidden'>{{screenshotsContent}}</div>
            </div>
        </template>
        <template id="gameDetailsChangelogContainer">
            <div id='changelogContainer' class='{{changelogClass}}'>
                <button accesskey='c' class='showHideButton' onclick='Changelog.show(this);'>
                    <i class='icon fa-file-text-o'></i><span>Show/hide changelog</span>
                </button>
                <div class='changelogContent hidden'>{{changelogContent}}</div>
            </div>
        </template>
        <template id="extraIcon">
            <i class='icon fa-star' title='Extra'></i>
        </template>
        <template id="operatingSystemIcon">
            <i class='icon fa-{{operatingSystem}}' title='{{operatingSystem}}'></i>
        </template>
        <template id="screenshot">
            <a href='{{uri}}'>
                <img data-src='{{uri}}'' onerror='Images.hideOnError(this)' />
            </a>
        </template>
        <template id="requiredProduct">
            <a href='#{{id}}'>{{title}}</a>
        </template>
        <template id="bundle">
            <h1 class='bundleTitle {{bundleClass}}'>Bundled products</h1>
            <div class='bundleContainer {{bundleClass}}'>{{bundleContent}}</div>
        </template>
        <template id="dlc">
            <h1 class='dlcTitle {{dlcClass}}'>Downloadable content</h1>
            <div class='dlcContainer {{dlcClass}}'>{{dlcContent}}</div>
        </template>
        <template id="gameDetails">
            <div class='productContainer'>
                [[gameDetailsProductHeader]] [[gameDetailsImageTemplate]] [[gameDetailsDescription]] [[gameDetailsScreenshotsContainer]]
                [[gameDetailsChangelogContainer]] [[gameDetailsFileContainer]]
            </div>
        </template>
        <template id="fileInstaller">
            <span class='file entry'>
                <a href='./{{folder}}/{{file}}'>
                    [[operatingSystemIcon]] [[validation]]
                    <span class='linkText'>{{name}} ({{language}}), {{version}} {{size}}</span>
            </a>
            </span>
        </template>
        <template id="fileExtra">
            <span class='extra entry'>
                <a href='./{{folder}}/{{file}}'>
                    [[getExtraIconTemplate]]
                    <span class='linkText'>{{name}} {{size}}</span>
                </a>
            </span>
        </template>
    </div>

    <script>
        var products = undefined;
        var productsdata = undefined;
        var gamedetails = undefined;
        var owned = undefined;
        var updated = undefined;
        var bundles = undefined;
        var wishlisted = undefined;
        var screenshots = undefined;
        var productfiles = undefined;
        var wikipedia = undefined;
    </script>
    <!-- model -->
    <script src="./products.js"></script>
    <script src="./owned.js"></script>
    <script src="./updated.js"></script>
    <script src="./wishlisted.js"></script>
    <script src="./productsdata.js"></script>
    <script src="./gamedetails.js"></script>
    <script src="./bundles.js"></script>
    <script src="./productfiles.js"></script>
    <script src="./screenshots.js"></script>
    <script src="./wikipedia.js"></script>
    <!-- controllers -->
    <script>
        var exports = {};
    </script>
    <script src="./_resources/selectionController.js"></script>
    <script src="./_resources/templateController.js"></script>
    <script src="./_resources/viewController.js"></script>
    
    <script src="./_resources/app.js"></script>
</body>

</html>